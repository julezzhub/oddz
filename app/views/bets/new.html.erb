
<div id="page1">
  <h3 class="form-h3">Please select the video or channel you want to bet on</h3>

  <div class="row">
    <div class="col">
      <p id="video_btn">Video</p>
    </div>
    <div class="col">
      <p id="channel_btn">Channel</p>
    </div>
  </div>


  <%= simple_form_for(@bet) do |f| %>
  <div class="d-none" id="search_input_video">
    <%= f.input :target, label: "Search Video" %>
  </div>

  <div class="d-none" id="search_input_channel">
    <%= f.input :target, label: "Search Channel" %>
  </div>

  <%= image_tag "arrow_right", id:"recipe1forward", class:"d-none" %>
</div>

<div class="d-none" id="page2">
  <div class="d-none">
    <h3 class="form-h3">Now Select your betting metric, quantity and time period</h3>
    <%= f.input :metric, label: "Select Metric", collection: ['Views', 'Likes', 'Dislikes', 'Comments'] %>
  </div>
  <div class="d-none">
    <h3 class="form-h3">Now Select your betting metric, quantity and time period</h3>
    <%= f.input :metric, label: "Select Metric", collection: ['Subscribers'] %>
  </div>

  <div class="d-none">
    <%= f.input :metric_count, label: "Amount", placeholder: "How many #{:metric.downcase} will the #{:type.downcase} get?" %>
  </div>

  <div class="d-none">
    <div id="time">
      <div class="row">
        <div class="col">
          <%= select_tag :days, options_for_select(0..30) %>
        </div>
        <div class="col">
          <%= select_tag :hours, options_for_select(0..23) %>
        </div>
        <div class="col">
          <%= select_tag :minutes, options_for_select(0..59) %>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="d-none">
  <h3 class="form-h3">Last but not least, choose an amount and a friend</h3>

  <%= f.input :stake, label: 'Stake (â‚¬)', input_html: { class: 'js-range-slider1'} %>

  <%= f.input :friend, label: 'Choose your friend', collection: current_user.friend_names %>
</div>

<div class="d-none">
  <h3 class="form-h3">Done. See your bet summary below and hit bet!</h3>

  <div style="display: grid; grid-template-columns: 1fr 3fr">
    <%= image_tag "video", style:"width: 80px; height: 80px;" %>
    <h3><%= :target %></h3>
    <%= image_tag("thumbs_up") %>
    <h3><%= :metric_count %> <%= :metric %> in <%= :days %> days, <%= :hours %> hours, <%= :minutes %> minutes</h3>
    <%= image_tag("wallet") %>
    <h3><%= :stake %></h3>
    <%= image_tag "friend", style:"width: 80px; height: 80px;" %>
    <h3><%= :friend %></h3>
  </div>

  <%= f.button :submit, value:"BET", style:"color: white;" %>
  <% end %>
</div>

<script>
  const search_input_video = document.getElementById('search_input_video')
  const search_input_channel = document.getElementById('search_input_channel')

  document.getElementById('video_btn').addEventListener('click', function() {
    search_input_video.classList.remove("d-none")
    search_input_channel.classList.add("d-none")

  })

  document.getElementById('channel_btn').addEventListener('click', function() {
    search_input_channel.classList.remove("d-none")
    search_input_video.classList.add("d-none")

  })

  const recipe1forward = document.getElementById('recipe1forward')

  search_input_channel.addEventListener('change', function() {
    recipe1forward.classList.remove("d-none")
  })

  search_input_video.addEventListener('change', function() {
    recipe1forward.classList.remove("d-none")
  })

  recipe1forward.addEventListener('click', function() {
    recipe1forward.classList.add("d-none")
    document.getElementById('page1').classList.add("d-none")
  })



</script>

<%= content_for :after_js do %>
  <%= javascript_pack_tag "new_bet_form" %>
<% end %>
